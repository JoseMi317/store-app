<div class="cliente-form">
  <!-- FORMULARIO SUPERIOR -->

  <label>Lista de Clientes</label>
  <div class="Clientes-header">
    <div class="form-group">
      <input type="text" placeholder="Buscar cliente" />
      <button class="nuevo-btn" onclick="Clientes_modal.showModal()">
        + Nuevo
      </button>
    </div>

    <!-- TABLA DE CLIENTES -->
    <table class="clientes-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Cliente</th>
          <th>Dirección</th>
          <th>Contacto</th>
          <th>Fecha Ingreso</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Cesar Santizo</td>
          <td>Calle Falsa 123</td>
          <td>555-1234</td>
          <td>2025-05-01</td>
        </tr>
      </tbody>
    </table>

    <dialog id="Clientes_modal" class="modal">
      <div class="modal-box w-11/12 max-w-2xl">
        <h2 class="font-semibold text-xl mb-4">Nuevo Cliente</h2>

        <!-- Tabs -->
        <div role="tablist" class="tabs tabs-boxed mb-4">
          <button
            class="tab"
            [class.tab-active]="tab === 'empresa'"
            (click)="tab = 'empresa'"
          >
            Empresa
          </button>
          <button
            class="tab"
            [class.tab-active]="tab === 'contacto'"
            (click)="tab = 'contacto'"
          >
            Contacto
          </button>
          <button
            class="tab"
            [class.tab-active]="tab === 'direccion'"
            (click)="tab = 'direccion'"
          >
            Dirección
          </button>
        </div>

        <!-- Formulario -->
        <form
          [formGroup]="formularioClientes"
          (ngSubmit)="onSubmit()"
          class="space-y-4"
        >
          <!-- Empresa -->
          <div *ngIf="tab === 'empresa'" class="grid grid-cols-2 gap-4">
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="ID Empresa"
              formControlName="id"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Nombre Empresa"
              formControlName="nombre"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Teléfono Empresa"
              formControlName="telefono"
            />
            <input
              type="email"
              class="input input-bordered w-full"
              placeholder="Correo Empresa"
              formControlName="correo"
            />
          </div>

          <!-- Contacto -->
          <div *ngIf="tab === 'contacto'" class="grid grid-cols-2 gap-4">
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Nombres"
              formControlName="contacto_nombres"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Apellidos"
              formControlName="contacto_apellidos"
            />
            <input
              type="email"
              class="input input-bordered w-full"
              placeholder="Correo Electrónico"
              formControlName="contacto_correo"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Teléfono"
              formControlName="contacto_telefono"
            />
          </div>

          <!-- Dirección -->
          <div *ngIf="tab === 'direccion'" class="grid grid-cols-2 gap-4">
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Calle"
              formControlName="direccion_calle"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Ciudad"
              formControlName="direccion_ciudad"
            />
            <input
              type="text"
              class="input input-bordered w-full"
              placeholder="Municipio"
              formControlName="direccion_municipio"
            />
          </div>

          <!-- Botones -->
          <div class="modal-action">
            <button type="button" class="btn" onclick="clientes_modal.close()">
              Cerrar
            </button>
            <button type="submit" class="btn bg-cyan-500">Guardar</button>
          </div>
        </form>
      </div>
    </dialog>

    <!-- Modal de búsqueda Clientes-->
    <dialog id="buscarModalCliente" class="modal">
      <div class="modal-box w-11/12 max-w-5xl">
        <h2 class="font-semibold text-xl mb-4">Buscar Cliente</h2>

        <!-- Campo de búsqueda -->
        <div class="mb-4">
          <input
            type="text"
            class="input input-bordered w-full"
            placeholder="Buscar Clientes"
            id="buscarTermino"
            oninput="filtrarCliente()"
          />
        </div>

        <div class="overflow-x-auto">
          <table class="table w-full">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Direccion</th>
                <th>Telefono</th>
                <th>Correo</th>
                <th>Empresa</th>
              </tr>
            </thead>
            <tbody id="resultadosBusqueda"></tbody>
          </table>
        </div>

        <!-- Paginación -->
        <div class="flex justify-center mt-4">
          <div class="join">
            <button
              class="join-item btn"
              onclick="anteriorPagina()"
              id="btnAnterior"
              disabled
            >
              «
            </button>
            <button class="join-item btn" id="numeroPagina">1</button>
            <button class="join-item btn" id="numeroPagina">2</button>
            <button
              class="join-item btn"
              onclick="siguientePagina()"
              id="btnSiguiente"
            >
              »
            </button>
          </div>
        </div>

        <!-- Botones -->
        <div class="modal-action">
          <button
            type="button"
            class="btn"
            onclick="buscarModalCliente.close()"
          >
            Cerrar
          </button>
        </div>
      </div>
    </dialog>
  </div>
</div>
