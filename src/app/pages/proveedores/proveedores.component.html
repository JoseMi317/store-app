<div class="proveedor-form">
  <!-- FORMULARIO SUPERIOR -->
  <label>Lista de Proveedores</label>

  <div class="Proveedores-header">
    <div class="form-group">
      <input type="text" placeholder="Buscar Proveedores" />
      <button class="nuevo-btn" (click)="abrirModalProveedor()">+ Nuevo</button>
    </div>

    <!-- TABLA DE PROVEEDORES -->
    <table class="proveedores-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Proveedor</th>
          <th>Dirección</th>
          <th>Teléfono</th>
          <th>Correo Electrónico</th>
          <th>Fecha Ingreso</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Tork</td>
          <td>Calle Falsa 456</td>
          <td>1122-1234</td>
          <td>Tork&#64;gmail.com</td>
          <td>2025-05-01</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- MODAL NUEVO PROVEEDOR -->
  <dialog #ProveedorModal class="modal">
    <div class="modal-box w-11/12 max-w-2xl">
      <h2 class="font-semibold text-xl mb-4">Nuevo Proveedor</h2>

      <!-- Tabs -->
      <div role="tablist" class="tabs tabs-boxed mb-4">
        <button
          class="tab"
          [class.tab-active]="tab === 'contacto'"
          (click)="tab = 'contacto'"
        >
          Contacto
        </button>
        <button
          class="tab"
          [class.tab-active]="tab === 'direccion'"
          (click)="tab = 'direccion'"
        >
          Dirección
        </button>
      </div>

      <!-- Formulario -->
      <form
        [formGroup]="formularioProveedor"
        (ngSubmit)="onSubmit()"
        class="space-y-4"
      >
        <!-- Contacto -->
        <div *ngIf="tab === 'contacto'" class="grid grid-cols-2 gap-4">
          <input
            class="input input-bordered w-full"
            placeholder="Nombres"
            formControlName="contacto_nombres"
          />
          <input
            class="input input-bordered w-full"
            placeholder="Apellidos"
            formControlName="contacto_apellidos"
          />
          <input
            class="input input-bordered w-full"
            placeholder="Correo Electrónico"
            formControlName="contacto_correo"
          />
          <input
            class="input input-bordered w-full"
            placeholder="Teléfono"
            formControlName="contacto_telefono"
          />
        </div>

        <!-- Dirección -->
        <div *ngIf="tab === 'direccion'" class="grid grid-cols-2 gap-4">
          <input
            class="input input-bordered w-full"
            placeholder="Calle"
            formControlName="direccion_calle"
          />
          <input
            class="input input-bordered w-full"
            placeholder="Ciudad"
            formControlName="direccion_ciudad"
          />
          <input
            class="input input-bordered w-full"
            placeholder="Municipio"
            formControlName="direccion_municipio"
          />
        </div>

        <!-- Botones -->
        <div class="modal-action">
          <button type="button" class="btn" (click)="cerrarModalProveedor()">
            Cerrar
          </button>
          <button type="submit" class="btn bg-cyan-500">Guardar</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- MODAL BÚSQUEDA Proveedores -->
  <dialog #buscarModal class="modal">
    <div class="modal-box w-11/12 max-w-5xl">
      <h2 class="font-semibold text-xl mb-4">Buscar Proveedres</h2>

      <!-- Campo de búsqueda -->
      <div class="mb-4">
        <input
          type="text"
          class="input input-bordered w-full"
          placeholder="Buscar Proveedores"
          (input)="filtrarProveedor($event)"
        />
      </div>

      <div class="overflow-x-auto">
        <table class="table w-full">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Dirección</th>
              <th>Teléfono</th>
              <th>Correo</th>
              <th>Empresa</th>
            </tr>
          </thead>
          <tbody id="resultadosBusqueda">
            <!-- Aquí podrías mapear resultados si los tienes -->
          </tbody>
        </table>
      </div>

      <!-- Paginación -->
      <div class="flex justify-center mt-4">
        <div class="join">
          <button class="join-item btn" id="btnAnterior" disabled>«</button>
          <button class="join-item btn">1</button>
          <button class="join-item btn">2</button>
          <button class="join-item btn" id="btnSiguiente">»</button>
        </div>
      </div>

      <!-- Botones -->
      <div class="modal-action">
        <button type="button" class="btn" onclick="cerrarModalBuscar()">
          Cerrar
        </button>
      </div>
    </div>
  </dialog>
</div>
