<div class="venta-form border border-">
    <!-- FORMULARIO SUPERIOR -->
    <div class="venta-header">
      <div class="form-group">
        <label>Cliente</label>
        <input type="text" placeholder="Buscar cliente" />
        <button class="nuevo-btn" onclick="ventas_modal.showModal()">+ Nuevo</button>
      </div>
  
      <div class="form-group">
        <label>Fecha</label>
        <input type="date" />
      </div>
  
      <div class="form-group">
        <label>Factura No.</label>
        <input type="text" placeholder="Auto-generado" />
      </div>
  
      <div class="form-group">
        <label>Agregar productos</label>
        <button class="buscar-btn" onclick="buscar_modal.showModal()">🔍 Buscar producto</button>
       
        
      </div>
    </div>
  
    <!-- TABLA DE PRODUCTOS -->
    <div class="tabla-container">
      <table class="productos-table">
        <thead>
          <tr>
            <th>Código</th>
            <th>Cantidad</th>
            <th>Descripción</th>
            <th>Precio Unit</th>
            <th>Descuento</th>
            <th>Precio Total</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>001</td>
            <td>2</td>
            <td>Producto A</td>
            <td>Q10.00</td>
            <td>0%</td>
            <td>Q200.00</td>
          </tr>
          <tr>
            <td>002</td>
            <td>1</td>
            <td>Producto B</td>
            <td>Q15.00</td>
            <td>10%</td>
            <td>13.50</td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <dialog id="ventas_modal" class="modal">
  <div class="modal-box w-11/12 max-w-2xl">
    <h2 class="font-semibold text-xl mb-4">Nuevo Cliente</h2>

    <!-- Tabs -->
    <div role="tablist" class="tabs tabs-boxed mb-4">
      <button class="tab" [class.tab-active]="tab === 'empresa'" (click)="tab = 'empresa'">Empresa</button>
      <button class="tab" [class.tab-active]="tab === 'contacto'" (click)="tab = 'contacto'">Contacto</button>
      <button class="tab" [class.tab-active]="tab === 'direccion'" (click)="tab = 'direccion'">Dirección</button>
    </div>

    <!-- Formulario -->
    <form [formGroup]="formularioVentas" (ngSubmit)="onSubmit()" class="space-y-4">

      <!-- Empresa -->
      @if (tab === 'empresa') {
        <div class="grid grid-cols-2 gap-4">
          <input type="text" class="input input-bordered w-full" placeholder="ID Empresa" formControlName="id" />
          <input type="text" class="input input-bordered w-full" placeholder="Nombre Empresa" formControlName="nombre" />
          <input type="text" class="input input-bordered w-full" placeholder="Teléfono Empresa" formControlName="telefono" />
          <input type="email" class="input input-bordered w-full" placeholder="Correo Empresa" formControlName="correo" />
        </div>
      }

      <!-- Contacto -->
      @if (tab === 'contacto') {
        <div class="grid grid-cols-2 gap-4">
          <input type="text" class="input input-bordered w-full" placeholder="Nombres" formControlName="contacto_nombres" />
          <input type="text" class="input input-bordered w-full" placeholder="Apellidos" formControlName="contacto_apellidos" />
          <input type="email" class="input input-bordered w-full" placeholder="Correo Electrónico" formControlName="contacto_correo" />
          <input type="text" class="input input-bordered w-full" placeholder="Teléfono" formControlName="contacto_telefono" />
        </div>
      }

      <!-- Dirección -->
      @if (tab === 'direccion') {
        <div class="grid grid-cols-2 gap-4">
          <input type="text" class="input input-bordered w-full" placeholder="Calle" formControlName="direccion_calle" />
          <input type="text" class="input input-bordered w-full" placeholder="Ciudad" formControlName="direccion_ciudad" />
          <input type="text" class="input input-bordered w-full" placeholder="Municipio" formControlName="direccion_municipio" />
        </div>
      }

      <!-- Botones -->
      <div class="modal-action">
        <button type="button" class="btn" onclick="ventas_modal.close()">Cerrar</button>
        <button type="submit" class="btn bg-cyan-500">Guardar</button>
      </div>
    </form>
  </div>
</dialog>



<!-- Modal de búsqueda -->
<dialog id="buscar_modal" class="modal">
  <div class="modal-box w-11/12 max-w-5xl">
    <h2 class="font-semibold text-xl mb-4">Buscar Productos</h2>
    
    <!-- Campo de búsqueda -->
    <div class="mb-4">
      <input 
        type="text" 
        class="input input-bordered w-full" 
        placeholder="Buscar Producto" 
        id="buscarTermino"
        oninput="filtrarProductos()"
      />
    </div>
    
    <div class="overflow-x-auto">
      <table class="table w-full">
        <thead>
          <tr>
            <th>Código</th>
            <th>Producto</th>
            <th>Fabricante</th>
            <th>Stock</th>
            <th>Precio</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="resultadosBusqueda">
        </tbody>
      </table>
    </div>
    
    <!-- Paginación -->
    <div class="flex justify-center mt-4">
      <div class="join">
        <button class="join-item btn" click="anteriorPagina()" id="btnAnterior" disabled>«</button>
        <button class="join-item btn" id="numeroPagina">1</button>
        <button class="join-item btn" id="numeroPagina">2</button>
        <button class="join-item btn" click="siguientePagina()" id="btnSiguiente">»</button>
      </div>
    </div>
    
    <!-- Botones -->
    <div class="modal-action">
      <button type="button" class="btn" onclick="buscar_modal.close()">Cerrar</button>
    </div>
  </div>
</dialog>
  </div>
  